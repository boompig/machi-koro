<!DOCTYPE html>
<html ng-app="MachiKoroSimul">
	<head>
		<title>Machi Koro Simulation</title>
		<meta charset="utf-8" />

		<link rel="stylesheet" href="style.css" />
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
	</head>
	<body ng-controller="MachiKoroCtrl as game">
		<div id="main-container">
			<h1>Machi Koro simulation</h1>

			<div id="player-container">
				<div class="player" ng-repeat="player in game.players">
					<div class="player-name" ng-class="{ playerTurn: game.isPlayerTurn(player) }">{{ player.name }}</div>
					<div class="player-money">Money: {{ player.money }}</div>
					<div class="player-points">Points: {{ player.points }}</div>
					<div class="player-cards">
						<h5>Cards</h5>
						<div class="card-container">
							<div class="card" ng-repeat="(cardName, num) in player.cards" ng-class="getCardClass(cardName)">
								<span class="card-name">{{ cardName }}</span>&nbsp;
								<span class="card-count">({{ num }})</span>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div id="state-panel">
				<span>Game State: {{ game.state }}</span>
				<span id="dice-roll" ng-show="game.lastRoll !== null">Last Roll: {{ game.lastRoll }}</span>
				<span id="turn-number">Turn Number {{ game.turn }}</span>
			</div>

			<div id="btn-panel">
				<button class="btn btn-success" ng-click="game.rollDice()" ng-disabled="game.state !== 'ROLL'">Roll</button>
				<button class="btn btn-info" ng-click="game.evalStrat()" ng-disabled="game.state !== 'BUY'">Eval Strat</button>
				<button class="btn btn-danger" ng-click="game.nextTurn()" ng-disabled="game.state !== 'NEXT'">Next Turn</button>
				<button class="btn btn-primary" ng-click="game.doTurn()" ng-disabled="game.state !== 'ROLL'">Full Turn</button>
			</div>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.js"></script>

		<script src="utils.js"></script>

		<script src="cards.js"></script>
		<script src="player.js"></script>
		<script src="machi_koro_ctrl.js"></script>
	</body>
</html>